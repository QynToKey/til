# アプリケーションの「テスト」について

## テストをめぐる開発手法

- **テスト駆動**（Test-Driven Development）:

実装より**先にテストを書き**、そのテストを通す最小限のコードを実装する開発手法。
「テスト→実装→リファクタリング」の短いサイクルを繰り返す。

- **一括テスト**:

複数の機能や処理をまとめて、**開発の後半や完了時にまとめて実行するテスト**のやり方。
不具合の原因箇所が特定しづらく、フィードバックが遅くなりがち。

### テストのメリット

1. 機能停止に陥るような**回帰バグを防止**できる。
  👉 *回帰バグ(Regression Bug): 以前のバグが再発したり機能の追加/変更に副作用が生じたりすること*

2. コードを**安全にリファクタリング**（機能を変更せずにコードを改善）できる。

3. アプリケーションの設計や**システムの他の部分とのインターフェイスを決めるとき**に役に立つ。
  👉 *テストコードは、アプリケーションコードから見ればクライアントとして動作するので*

※ ただし、上記のメリットは**TDDでなくても得ることができる**。

### テストを書くのは「先」か「後」か？（ガイドライン）

- テストを「先に」書く
  - 本体のコードよりも明らかにテストコードの方が短くシンプル ➡️ テストを「先に」書く
  - セキュリティが重要な課題またはセキュリティ周りのエラーが発生した場合 ➡️ テストを「先に」書く
  - バグを見つけた ➡️ そのバグを再現するテストを「先に」書く
    👉 *回帰バグを防ぐ体制を整えてから修正に取りかかる*
  - リファクタリングするとき ➡️ 「先に」テストを書く
    👉 *エラーを起こしそうなコードや止まってしまいそうなコードを集中的にテストする*

- テストを「後に」書く
  - 動作の仕様がまだ固まりきっていない場合 ➡️ アプリケーションのコードを先に書き、期待する動作を「後で」書く
  - すぐにまた変更しそうなコード（HTML構造の細部など）に対するテスト ➡️ 「後で」書く

- テストを「書かない」（思い切って省略してしまう判断もアリ）
  - 不安定な要素が特に見当たらないアプリケーションのコードを書くとき
  - ビューを中心に頻繁に改定される可能性の高いアプリケーションのコードを書くとき
