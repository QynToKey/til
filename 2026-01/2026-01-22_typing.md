## JavaScriptで「[タイピングゲーム](https://github.com/QynToKey/MyTypingGame)」を試作

### **`CSS`** tips

  - 文字間を調整する: `letter-spacing: 0.1em;`

### 実装手順
  - タイプした文字を表示する
    ```
      document.addEventListener('keydown', e => {
        const target = document.getElementById('target');
        target.textContent = e.key;
      })
    ```
    - `keydown`イベント: キーが押されたときに発生する
    - 第２引数`listener`: 指定された種類のイベントが発生するときに通知を受け取る**関数**または**オブジェクト**（その関数の引数として渡される`eventオブジェクト`を慣習的に`e`と表記している）
    - `key`プロパティ: `keydown`イベントで「押されたキーの文字」を表す

  - 初期値として「問題文」を表示させる
    ```
      const word = 'red'; // 「問題文」を設定
      const target = document.getElementById('target');
      target.textContent = word;
    ```

  - キータイプした入力値を正誤判定する
    ```
      let loc = 0; // 何文字目か？ ← 変数名はローケーションの略

      document.addEventListener('keydown', e => {
        if (e.key === word[loc]) {
          loc++;
          target.textContent = '_'.repeat(loc) + word.substring(loc);
        }
      })
    ```

    - `'_'.repeat(loc)`: `_`を`loc`の個数分つなげた文字列を生成
    - `word.substring(loc)`: 引数で渡したインデックス以降の文字列を取得

  - **早期リターン**でコードを整理
    ```
      document.addEventListener('keydown', e => {
        if (e.key !== word[loc]) {
          return; // 早期リターン
        }
        loc++;
        target.textContent = '_'.repeat(loc) + word.substring(loc);
      });
    ```

    - レアケースを早期に除外して、メインの処理をわかりやすく書く

  - 「単語群」から「単語」を選択して表示させる
    ```
      const words = ['red','blue','pink'];
      let word;

      word = words[Math.floor(Math.random() * words.length];
      target.textContent = word;
    ```

    ↓ *ランダムで重複させない処理*

    ```
    # ランダムな位置から要素を１個づつ削除しながら`word`へ渡す
      word = words.splice(Math.floor(Math.random() * words.length), 1)[0];
    ```


## 「動かして学ぶJavaScript Level 1-2」

  - `三項演算子`をスマートに書く
    ```
    translate.addEventListener('click', () => {
      message.textContent =
        message.textContent === 'こんにちは！'
          ? '안녕하세요!'
          : 'こんにちは！';
    });
    ```

  - 値を**一旦退避する**ための変数
    ```
      let temp ='';

      btn.addEventListener('click', () => {
        temp = dep.textContent;
        dep.textContent = arr.textContent;
        arr.textContent = temp;
      })
    ```

    - **分割代入**`[a, b] = [b, a]`で書ければスマートだが、この場合はむしろ冗長になる。
