## JavaScriptで「[カレンダー](https://github.com/QynToKey/MyCalendar)」を試作する

### **`CSS`** tips

  - `colspan`属性: テーブルで、水平方向のセルの結合数を指定する。
    ```
    <tr>
      <th id="prev">&laquo;</th>
      <th id="title" colspan="5">2026/01</th>
      <th id="next">&raquo;</th>
    </tr>
    # → '«	2026/01	»'
    ```

### 実装手順

  1. 「今月１日」から「今月末日」までをループ処理で取得する
    ```
    # 「今月末日」を取得（「翌月０日」(=翌月１日の１日前)）
    const lastDate = new Date(year, month +1, 0).getDate();

    for (let i = 1; i <= lastDate; i ++) {
      dates.push(i)
    }
    ```

  2. 前月分の日付の取得
    ```
      const d = new Date(year, month, 0).getDate(); #「前月末日」＝「今月０日」
      const n = new Date(year, month, 1).getDay(); #「今月１日」の曜日を数値で取得

      for (let i = 0; i < n; i ++) {
        dates.unshift({
          date: d - i, #「前月末日」から'i'を引いた日付を'unshift'する
          isToday: false,
          isDisabled: true
        });
      }
    ```

  3. 翌月分の日付を取得
    ```
      const lastDay = new Date(year, month + 1, 0).getDay(); #「今月末日」の曜日を数値で取得

      for (let i = 1; i < 7 - lastDay; i ++) { #「今月末日」の曜日値を７から引いた日数分ループを回す
        date.push({
          dates: i,
          isToday: false,
          isDisabled: false
        })
      }
    ```

  4. 前月、今月、翌月の日付を一つの配列にまとめる
    ```
      function createCalendar() {
        const dates = [
          ...getCalendarHead(),
          ...getCalendarBody(),
          ...getCalendarTail()
        ];
      }
    ```

    - **スプレッド構文**`...` でそれぞれの配列を展開する。


  5. 週ごとの配列をつくる
    ```
      const weeks = [];
      const weeksCount = dates.length / 7; # カレンダーに表示する週の数を求める

      for (let i = 0; i < weeksCount; i++) {
        weeks.push(dates.splice(0, 7));
      }
    ```

    - `splice()`: 第１引数「変化が始まるインデックス」, 第２引数「削除する要素の数」, 第３引数以降「追加する要素」

    - `splice(start, deleteCount)`の返り値は「削除された要素を、順番を保ったまま配列にしたもの」


  6. カレンダーを初期化する処理を加える
    ```
      while (tbody.firstChild) {
        tbody.removeChild(tbody.firstChild);
      }
    ```

    - この処理がないと`prev`および`next`ボタンでリロードする度に「今月」の`tbody`が残ってしまう。


  7. タイトルの「年月」を動的に表示させる
    ```
      const today = new Date();
      let year = today.getFullYear();
      let month = today.getMonth();

      const title = `${year}/${String(month + 1).padStart(2, '0')}`;
      document.getElementById('title').textContent = title;
    ```

    - `padStart(2, '0')`: 「月」を二桁表示にする処理


  8. 「今日」の日付を太字にする
    ```
      if (year === today.getFullYear() && month === today.getMonth()) {
        dates[today.getDate() - 1].isToday = true;
      }
    ```

    - `year`と`month`を確認しないと全ての「同日」が太字になってしまう。


  9. TODAYボタンで「今日」へ戻る
    ```
      document.getElementById('today').addEventListener('click', () => {
        year = today.getFullYear();
        month =today.getMonth();
      });
    ```


## 本日開講の「動かして学ぶJavaScript Level 1-1」に参加

- ダイアログボックス
  1. `alert`: メッセージを表示する
  2. `confirm`: 確認ダイアログで真偽値を取得する
  3. `prompt`: ユーザーの入力値を取得する

- DOM操作
  - `getElementById()`: DOM要素を取得する
  - `addEventListener()`: DOM要素にイベントを設定する
  - `textContent`: 要素に右辺のテキスト情報を代入する
